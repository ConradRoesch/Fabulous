<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://docs.fabulous.dev/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://docs.fabulous.dev/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://docs.fabulous.dev/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{var b=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,a=localStorage.getItem("theme");b&&a===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),b&&a==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),a==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://docs.fabulous.dev/main.6600c3b63112594832a975028011a6ba21205542b563b84baf571dbcbd9b3606939979a1041079499a21a0386c0dc97bd489a25bd5a3ca3e126ff971a7cb00cc.css integrity="sha512-ZgDDtjESWUgyqXUCgBGmuiEgVUK1Y7hLr1cdvL2bNgaTmXmhBBB5SZohoDhsDcl71ImiW9Wjyj4Sb/lxp8sAzA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Fabulous.StaticView (deprecated) - Fabulous</title><meta name=description content="Write cross-platform apps with Xamarin.Forms, using MVU architecture and static XAML UI
In some circumstances there are advantages to using static Xaml, and static bindings from the model to those views. This is called &amp;ldquo;Half Elmish&amp;rdquo; and is the primary technique used by Elmish.WPF at time of writing. (It was also the original technique used by this repo and the prototype Elmish.Forms).
&amp;ldquo;Half Elmish&amp;rdquo; is a pragmatic choice to allow, but doesn&amp;rsquo;t provide the same level of cognitive-simplicity."><link rel=canonical href=https://docs.fabulous.dev/about/fabulous-staticview/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Fabulous.StaticView (deprecated)"><meta property="og:description" content="Write cross-platform apps with Xamarin.Forms, using MVU architecture and static XAML UI
In some circumstances there are advantages to using static Xaml, and static bindings from the model to those views. This is called &ldquo;Half Elmish&rdquo; and is the primary technique used by Elmish.WPF at time of writing. (It was also the original technique used by this repo and the prototype Elmish.Forms).
&ldquo;Half Elmish&rdquo; is a pragmatic choice to allow, but doesn&rsquo;t provide the same level of cognitive-simplicity."><meta property="og:url" content="https://docs.fabulous.dev/about/fabulous-staticview/"><meta property="og:site_name" content="Fabulous"><meta property="article:published_time" content="2022-03-31T00:00:00+00:00"><meta property="article:modified_time" content="2022-03-31T00:00:00+00:00"><meta property="og:image" content="https://docs.fabulous.dev/fabulous.png"><meta property="og:image:alt" content="Fabulous"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@Tim_Lariviere"><meta name=twitter:creator content="@Tim_Lariviere"><meta name=twitter:title content="Fabulous.StaticView (deprecated)"><meta name=twitter:description content><meta name=twitter:image content="https://docs.fabulous.dev/fabulous.png"><meta name=twitter:image:alt content="Fabulous.StaticView (deprecated)"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://docs.fabulous.dev/#/schema/organization/1","name":"Fabulous","url":"https://docs.fabulous.dev/","sameAs":["https://twitter.com/Tim_Lariviere","https://github.com/fsprojects/Fabulous"],"logo":{"@type":"ImageObject","@id":"https://docs.fabulous.dev/#/schema/image/1","url":"https://docs.fabulous.dev/logo-fabulous.png","width":512,"height":512,"caption":"Fabulous"},"image":{"@id":"https://docs.fabulous.dev/#/schema/image/1"}},{"@type":"WebSite","@id":"https://docs.fabulous.dev/#/schema/website/1","url":"https://docs.fabulous.dev/","name":"Fabulous","description":"Fabulous allows you to combine the power of functional programming and the simple Model-View-Update architecture to build any kind of mobile and desktop applications with an expressive, dynamic and clean UI DSL.","publisher":{"@id":"https://docs.fabulous.dev/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://docs.fabulous.dev/about/fabulous-staticview/","url":"https://docs.fabulous.dev/about/fabulous-staticview/","name":"Fabulous.StaticView (deprecated)","description":"","isPartOf":{"@id":"https://docs.fabulous.dev/#/schema/website/1"},"about":{"@id":"https://docs.fabulous.dev/#/schema/organization/1"},"datePublished":"2022-03-31T00:00:00CET","dateModified":"2022-03-31T00:00:00CET","breadcrumb":{"@id":"https://docs.fabulous.dev/about/fabulous-staticview/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://docs.fabulous.dev/about/fabulous-staticview/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://docs.fabulous.dev/about/fabulous-staticview/"]}]},{"@type":"BreadcrumbList","@id":"https://docs.fabulous.dev/about/fabulous-staticview/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://docs.fabulous.dev/","url":"https://docs.fabulous.dev/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://docs.fabulous.dev/about/","url":"https://docs.fabulous.dev/about/","name":"About"}},{"@type":"ListItem","position":3,"item":{"@id":"https://docs.fabulous.dev/about/fabulous-staticview/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://docs.fabulous.dev/about/fabulous-staticview/#/schema/image/2","url":"https://docs.fabulous.dev/fabulous.png","contentUrl":"https://docs.fabulous.dev/fabulous.png","caption":"Fabulous.StaticView (deprecated)"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://docs.fabulous.dev/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://docs.fabulous.dev/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://docs.fabulous.dev/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://docs.fabulous.dev/site.webmanifest></head><body class="about single"><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=https://docs.fabulous.dev/ aria-label=Fabulous>Fabulous</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-start border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=https://docs.fabulous.dev/>Fabulous</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://docs.fabulous.dev>Docs</a></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-2"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/fsprojects/Fabulous><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://twitter.com/Tim_Lariviere><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><small class="ms-2 d-md-none">Twitter</small></a></li></ul></div></div><button id=mode class="btn btn-link order-md-1" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></nav></header><div class="wrap container-xxl" role=document><div class=content><div class="row justify-content-center"><div class="col-md-12 col-lg-10 col-xl-8"><article><h1>Fabulous.StaticView (deprecated)</h1><p>Write cross-platform apps with Xamarin.Forms, using MVU architecture and static XAML UI</p><p>In some circumstances there are advantages to using static Xaml, and static bindings from the model to those views. This is called &ldquo;Half Elmish&rdquo; and is the primary technique used by <a href=https://github.com/Prolucid/Elmish.WPF><code>Elmish.WPF</code></a> at time of writing. (It was also the original technique used by this repo and the prototype <code>Elmish.Forms</code>).</p><p>&ldquo;Half Elmish&rdquo; is a pragmatic choice to allow, but doesn&rsquo;t provide the same level of cognitive-simplicity. In the words of Jim Bennett:</p><blockquote><p>As a C#/XAML dev I really like the half Elmish model. I’m comfortable with XAML so like being able to use the Elmish bits to create a nice immutable model and have clean code, but still using XAML and binding as I’m comfortable there. This feels more like how existing C# Xamarin devs would move to F#. Full elmish is how F# devs will move to Xamarin.</p></blockquote><p>Static Xaml + bindings has signifcant pros:</p><ul><li>Pro: in some circumstances perf can be better</li><li>Pro: you can interact with existing xaml assets</li><li>Pro: you can interact with 3rd party controls relatively easily</li><li>Con: you have to know a lot more about Xaml (e.g. binding, commands, templating, converters)</li><li>Con: you get more files in your project (e.g. 3 instead of 1, even for simple examples)</li><li>Con: you are more reliant on tooling (which is often a bit flakey&mldr;)</li><li>Con: you may end up using more mutable data structures</li><li>Con: there are more failure points (e.g. magic strings to link the Xaml to the code through binding etc.).</li><li>Con: the Xaml is static, and only made dynamic through the addition of control bindings to turn elements on/off</li></ul><p>If you want to use static Xaml, then you will need to do bindings to that View.
Bindings in your XAML code will look like typical bindings, but a bit of extra code is needed to
map those bindings to your Elmish model. These are the viewBindings, which expose parts of the model to the view.</p><p>Here is a full example (excluding Xaml):</p><pre><code class=language-fs>namespace CounterApp

open Fabulous.Core
open Fabulous.StaticViews
open Xamarin.Forms

type Model =
  { Count : int
    Step : int }

type Msg =
    | Increment
    | Decrement
    | Reset
    | SetStep of int

type CounterApp () =
    inherit Application ()

    let init () = { Count = 0; Step = 3 }

    let update msg model =
        match msg with
        | Increment -&gt; { model with Count = model.Count + model.Step }
        | Decrement -&gt; { model with Count = model.Count - model.Step }
        | Reset -&gt; init ()
        | SetStep n -&gt; { model with Step = n }

    let view () =
        CounterPage (),
        [ &quot;CounterValue&quot; |&gt; Binding.oneWay (fun m -&gt; m.Count)
          &quot;CounterValue2&quot; |&gt; Binding.oneWay (fun m -&gt; m.Count + 1)
          &quot;IncrementCommand&quot; |&gt; Binding.msg Increment
          &quot;DecrementCommand&quot; |&gt; Binding.msg Decrement
          &quot;ResetCommand&quot; |&gt; Binding.msgIf Reset (fun m -&gt; m &lt;&gt; init ())
          &quot;ResetVisible&quot; |&gt; Binding.oneWay (fun m -&gt;  m &lt;&gt; init ())
          &quot;StepValue&quot; |&gt; Binding.twoWay (fun m -&gt; double m.Step) (fun v -&gt; SetStep (int (v + 0.5))) ]

    let runner =
        Program.mkSimple init update view
        |&gt; Program.withConsoleTrace
        |&gt; Program.runWithStaticView

    do base.MainPage &lt;- runner.InitialMainPage
</code></pre><p>There are helper functions to create bindings located in the <code>Binding</code> module:</p><ul><li><code>Binding.oneWay getter</code><ul><li>Basic source-to-view binding. Maps to <code>BindingMode.OneWay</code>.</li><li>Takes a getter (<code>'model -> 'a</code>)</li></ul></li><li><code>Binding.twoWay getter setter</code><ul><li>Binding from source to view, or view to source, and usually used for input controls.</li><li>Takes a getter (<code>'model -> 'a</code>) and a setter (<code>'a -> 'model -> 'msg</code>) that returns a message.</li></ul></li><li><code>Binding.oneWayFromView setter</code><ul><li>Binding from view to source, and usually used for input controls.</li><li>Takes a a setter (<code>'a -> 'model -> 'msg</code>) that returns a message.</li></ul></li><li><code>Binding.twoWayValidation getter setter</code><ul><li>Binding from source to view and view to source, and usually used for input controls. Maps to <code>BindingMode.TwoWay</code>. Setter will implement validation.</li><li>Takes a getter (<code>'model -> 'a</code>) and a setter (<code>'a -> 'model -> Result&lt;'msg,string></code>) that indicates whether the input is valid or not.</li></ul></li><li><code>Binding.msg</code><ul><li>Basic command binding to dispatch a message</li><li>Takes an execute function (<code>'model -> 'msg</code>)</li></ul></li><li><code>Binding.msgIf</code><ul><li>Conditional command binding to dispatch a message</li><li>Takes an execute function (<code>'model -> 'msg</code>) and a canExecute function (<code>'model -> bool</code>)</li></ul></li><li><code>Binding.msgWithParamIf</code><ul><li>Conditional command binding to dispatch a message, with an additional <code>CommandParameter</code></li><li>Takes an execute function (<code>'model -> 'msg</code>) and a canExecute function (<code>'model -> bool</code>)</li></ul></li><li><code>Binding.subView initf getter toMsg viewBindings name</code><ul><li>Composite model binding</li><li>Takes a sub-model initializer sub-model getter (<code>'model -> '_model</code>) to fetch part of a model, a message embedder (<code>'_msg -> 'msg</code>) to embed sub-component messages into a larger space of messages, and the composite sub-model viewBindings, and a name for the sub-model</li></ul></li><li><code>oneWayMap</code><ul><li>One-way binding that applies a map when passing data to the view.</li><li>Takes a getter (<code>'model -> 'a</code>) and a mapper (<code>'a -> 'b</code>).</li></ul></li></ul><p>The string piped to each binding is the name of the property as referenced in the XAML binding.</p></article></div></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a class=text-muted href=https://pages.github.com>GitHub Pages</a>, <a class=text-muted href=https://gohugo.io/>Hugo</a>, and <a class=text-muted href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://docs.fabulous.dev/js/bootstrap.min.fdbe9b9ba88a036135318f3c721784d684ac9e3280fe282cc80d7d49f7f9c82780cd54228c1608685a230c09984300d7946fc471734d566fcebc148b65bd16db.js integrity="sha512-/b6bm6iKA2E1MY88cheE1oSsnjKA/igsyA19Sff5yCeAzVQijBYIaFojDAmYQwDXlG/EcXNNVm/OvBSLZb0W2w==" crossorigin=anonymous defer></script>
<script src=https://docs.fabulous.dev/js/highlight.min.838b3c1ddbb9b9165b7561f7099cb5c4355b6154aaeb65308b36bab9eb30eaa5878166aa717b399c4adddd7dd2a4e04efa14a096b190683a94630bb0c15b431e.js integrity="sha512-g4s8Hdu5uRZbdWH3CZy1xDVbYVSq62Uwiza6uesw6qWHgWaqcXs5nErd3X3SpOBO+hSglrGQaDqUYwuwwVtDHg==" crossorigin=anonymous defer></script>
<script src=https://docs.fabulous.dev/main.min.6bcd117899ffc9e0f284a6a38e48794689fd80fbd8a0a50a6c886e47e1bfac6c90f39ecad7cdc1a52f577e7c99ed379a3b3b84adb674a5776d815dd650d71eb6.js integrity="sha512-a80ReJn/yeDyhKajjkh5Ron9gPvYoKUKbIhuR+G/rGyQ857K183BpS9XfnyZ7TeaOzuErbZ0pXdtgV3WUNcetg==" crossorigin=anonymous defer></script></body></html>