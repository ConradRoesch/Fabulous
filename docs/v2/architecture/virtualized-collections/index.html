<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://fsprojects.github.io/Fabulous/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://fsprojects.github.io/Fabulous/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://fsprojects.github.io/Fabulous/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{var b=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,a=localStorage.getItem("theme");b&&a===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),b&&a==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),a==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://fsprojects.github.io/Fabulous/main.3b54fe36bfa3e29b8fa90e4fbf1c2ea4babd80a899bda4c5dd92fc6d2f2a7dd751e595922c2f7cf1155ff8861280bb3756398a6d2eeef4054bddbac898aa7d43.css integrity="sha512-O1T+Nr+j4puPqQ5PvxwupLq9gKiZvaTF3ZL8bS8qfddR5ZWSLC988RVf+IYSgLs3VjmKbS7u9AVL3brImKp9Qw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Virtualized collections - Fabulous</title><meta name=description content="Virtualized collection enables displaying a scrolling list of data while only instantiating the visible rows. When scrolling, the no longer visible rows are reused and updated with the new data.
In Xamarin.Forms, this is done via 2 controls: ListView and CollectionView. Also those controls support grouping data and displaying a group header/footer.
My main idea was to let the user pass in its data source and declare a template function (as well as 2 others for header/footer)."><link rel=canonical href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Virtualized collections"><meta property="og:description" content="Virtualized collection enables displaying a scrolling list of data while only instantiating the visible rows. When scrolling, the no longer visible rows are reused and updated with the new data.
In Xamarin.Forms, this is done via 2 controls: ListView and CollectionView. Also those controls support grouping data and displaying a group header/footer.
My main idea was to let the user pass in its data source and declare a template function (as well as 2 others for header/footer)."><meta property="og:url" content="https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/"><meta property="og:site_name" content="Fabulous"><meta property="article:published_time" content="2020-10-06T08:48:57+00:00"><meta property="article:modified_time" content="2020-10-06T08:48:57+00:00"><meta property="og:image" content="https://fsprojects.github.io/Fabulous/fabulous.png"><meta property="og:image:alt" content="Fabulous"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@Tim_Lariviere"><meta name=twitter:creator content="@Tim_Lariviere"><meta name=twitter:title content="Virtualized collections"><meta name=twitter:description content><meta name=twitter:image content="https://fsprojects.github.io/Fabulous/fabulous.png"><meta name=twitter:image:alt content="Virtualized collections"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://fsprojects.github.io/#/schema/organization/1","name":"Fabulous","url":"https://fsprojects.github.io/","sameAs":["https://twitter.com/Tim_Lariviere","https://github.com/Tim_Lariviere/Fabulous-new"],"logo":{"@type":"ImageObject","@id":"https://fsprojects.github.io/#/schema/image/1","url":"https://fsprojects.github.io/logo-fabulous.png","width":512,"height":512,"caption":"Fabulous"},"image":{"@id":"https://fsprojects.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://fsprojects.github.io/#/schema/website/1","url":"https://fsprojects.github.io/","name":"Fabulous","description":"Fabulous allows you to combine the power of functional programming and the simple Model-View-Update architecture to build any kind of mobile and desktop applications with an expressive, dynamic and clean UI DSL.","publisher":{"@id":"https://fsprojects.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/","url":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/","name":"Virtualized collections","description":"","isPartOf":{"@id":"https://fsprojects.github.io/#/schema/website/1"},"about":{"@id":"https://fsprojects.github.io/#/schema/organization/1"},"datePublished":"2020-10-06T08:48:57CET","dateModified":"2020-10-06T08:48:57CET","breadcrumb":{"@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/"]}]},{"@type":"BreadcrumbList","@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://fsprojects.github.io/Fabulous/","url":"https://fsprojects.github.io/Fabulous/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://fsprojects.github.io/Fabulous/docs/","url":"https://fsprojects.github.io/Fabulous/docs/","name":"Docs"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://fsprojects.github.io/Fabulous/docs/v2/","url":"https://fsprojects.github.io/Fabulous/docs/v2/","name":"V2"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/","url":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/","name":"Architecture"}},{"@type":"ListItem","position":5,"item":{"@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://fsprojects.github.io/#/schema/article/1","headline":"Virtualized collections","description":"","isPartOf":{"@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/"},"mainEntityOfPage":{"@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/"},"datePublished":"2020-10-06T08:48:57CET","dateModified":"2020-10-06T08:48:57CET","author":{"@id":"https://fsprojects.github.io/#/schema/person/2"},"publisher":{"@id":"https://fsprojects.github.io/#/schema/organization/1"},"image":{"@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://fsprojects.github.io/#/schema/person/2","name":"Timothé Larivière","sameAs":["https://twitter.com/Tim_Lariviere","https://www.linkedin.com/in/timlariviere/","https://github.com/TimLariviere"]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/#/schema/image/2","url":"https://fsprojects.github.io/Fabulous/fabulous.png","contentUrl":"https://fsprojects.github.io/Fabulous/fabulous.png","caption":"Virtualized collections"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://fsprojects.github.io/Fabulous/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://fsprojects.github.io/Fabulous/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://fsprojects.github.io/Fabulous/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://fsprojects.github.io/Fabulous/site.webmanifest></head><body class="docs single"><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=https://fsprojects.github.io/Fabulous/ aria-label=Fabulous>Fabulous</a>
<button class="btn btn-menu d-block d-md-none order-5" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-start border-0 py-md-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-md-none"></div><div class="offcanvas-header d-md-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=https://fsprojects.github.io/Fabulous/>Fabulous</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-md-none">Main</h3><ul class="nav flex-column flex-md-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=https://fsprojects.github.io/Fabulous/docs/about/fabulous-for-xamarinforms/>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://fsprojects.github.io/Fabulous/blog/>Blog</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Get Started
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=https://fsprojects.github.io/Fabulous/docs/quickstarts/>Quickstarts</a></li><li><a class=dropdown-item href=https://fsprojects.github.io/Fabulous/docs/tutorials/>Tutorials</a></li></ul></li></ul><hr class="text-black-50 my-4 d-md-none"><h3 class="h6 text-uppercase mb-3 d-md-none">Socials</h3><ul class="nav flex-column flex-md-row ms-md-auto me-md-n5 pe-md-2"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/TimLariviere/Fabulous-new><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-md-none">GitHub</small></a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://twitter.com/Tim_Lariviere><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><small class="ms-2 d-md-none">Twitter</small></a></li></ul></div></div><button id=mode class="btn btn-link order-md-1" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></nav></header><nav class="doks-subnavbar py-2 sticky-lg-top" aria-label="Secondary navigation"><div class="container-xxl d-flex align-items-md-center"><form class="doks-search position-relative flex-grow-1 me-auto"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><button class="btn doks-sidebar-toggle d-lg-none ms-3 order-3 collapsed" type=button data-bs-toggle=collapse data-bs-target=#doks-docs-nav aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle documentation navigation"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></button></div></nav><div class=container-xxl><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-46b3931b9959c927df4fc65fdee94b07 aria-expanded=false>
About</button><div class=collapse id=section-46b3931b9959c927df4fc65fdee94b07><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/about/fabulous-for-xamarinforms/>Fabulous for Xamarin.Forms</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/about/fabulous-staticview/>Fabulous.StaticView (deprecated)</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/about/they-use-fabulous/>They use Fabulous</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-6654c734ccab8f440ff0825eb443dc7f aria-expanded=false>
Version 1</button><div class=collapse id=section-6654c734ccab8f440ff0825eb443dc7f><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/getting-started/>Getting started</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-a4d1982d45a8df888848781b1b4774e7 aria-expanded=false>
Tutorials</button><div class=collapse id=section-a4d1982d45a8df888848781b1b4774e7><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/how-to/>How to write your own extensions</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/model/>Models</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/mvu/>MVU</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/dev-pitfalls/>Pitfalls and F# 5.0 support</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/dev-testing/>Testing</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/update/>The Init and Update Functions</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/dev-logging/>Traces and crashes</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/dev-tools/>Using the Fabulous command line</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/view/>Views</a></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3e57f996a3aea1880033d283d256a07a aria-expanded=false>
API Reference</button><div class=collapse id=section-3e57f996a3aea1880033d283d256a07a><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-a456323b78d9c122f7f82472cfcaa555 aria-expanded=false>
Controls</button><div class=collapse id=section-a456323b78d9c122f7f82472cfcaa555><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/activityindicator/>ActivityIndicator</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/boxview/>BoxView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/button/>Button</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/carouselpage/>CarouselPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/carouselview/>CarouselView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/checkbox/>Checkbox</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/collectionview/>CollectionView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/contentpage/>ContentPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/datepicker/>DatePicker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/editor/>Editor</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/ellipse/>Ellipse</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/entry/>Entry</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/flyoutpage/>FlyoutPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/gestures/>Gestures</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/image/>Image</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/imagebutton/>ImageButton</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/indicatorview/>IndicatorView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/label/>Label</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/layouts/>Layouts</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/line/>Line</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/listview/>ListView and ListViewGrouped</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/navigationpage/>NavigationPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/openglview/>OpenGLView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/path/>Path</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/picker/>Picker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/polygon/>Polygon</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/polyline/>Polyline</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/progressbar/>ProgressBar</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/radiobutton/>RadioButton</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/rectangle/>Rectangle</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/refreshview/>RefreshVIew</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/searchbar/>SearchBar</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/shell/>Shell</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/slider/>Slider</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/stepper/>Stepper</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/styling/>Styling</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/swipeview/>SwipeView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/switch/>Switch</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/tabbedpage/>TabbedPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/tableview/>TableView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/timepicker/>TimePicker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/webview/>WebView</a></li></ul></div></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/animations/>Animations</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/custom-renderer/>Custom renderers and Custom controls</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/effects/>Effects</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/codegen-bindings/>Fabulous.CodeGen</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/navigation/>Navigation</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/popups/>Pop-ups</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/performance/>View and performance</a></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3dc8be706a69216224c91c2bee37d0f9 aria-expanded=false>
Extensions</button><div class=collapse id=section-3dc8be706a69216224c91c2bee37d0f9><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/ffimageloading/>FFImageLoading</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/oxyplot/>OxyPlot</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/skiasharp/>SkiaSharp</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/videomanager/>VideoManager</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/xamarinforms-maps/>Xamarin.Forms.Maps</a></li></ul></div></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-1b267619c4812cc46ee281747884ca50 aria-expanded=true>
Version 2</button><div class="collapse show" id=section-1b267619c4812cc46ee281747884ca50><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/getting-started/>Getting started</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-5027704fbba052221b8192c347dd324b aria-expanded=false>
Tutorials</button><div class=collapse id=section-5027704fbba052221b8192c347dd324b><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/tutorials/using-nightly-builds/>Using nightly builds</a></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-ee970452eef2feb3434e4db493978a7a aria-expanded=false>
API Reference</button><div class=collapse id=section-ee970452eef2feb3434e4db493978a7a><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-f2e7ce0d9a84a2a9dafb13341470c18f aria-expanded=false>
Controls</button><div class=collapse id=section-f2e7ce0d9a84a2a9dafb13341470c18f><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/date-picker/>DatePicker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/picker/>Picker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/time-picker/>TimePicker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/button/>Button</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/element/>Element</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/label/>Label</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/navigableelement/>NavigableElement</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/view/>View</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/visualelement/>VisualElement</a></li></ul></div></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/extending-controls/>Creating and extending controls</a></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-d6dc8e34ffb16d208f2777e5c6b23062 aria-expanded=true>
Architecture</button><div class="collapse show" id=section-d6dc8e34ffb16d208f2777e5c6b23062><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/goals-of-v2/>Reasonable goals of v2</a></li><li><a class="docs-link rounded active" href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/>Virtualized collections</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/attribute-definitions/>Attribute definitions</a></li></ul></div></li></ul></div></li></ul></nav></aside></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-46b3931b9959c927df4fc65fdee94b07 aria-expanded=false>
About</button><div class=collapse id=section-46b3931b9959c927df4fc65fdee94b07><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/about/fabulous-for-xamarinforms/>Fabulous for Xamarin.Forms</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/about/fabulous-staticview/>Fabulous.StaticView (deprecated)</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/about/they-use-fabulous/>They use Fabulous</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-6654c734ccab8f440ff0825eb443dc7f aria-expanded=false>
Version 1</button><div class=collapse id=section-6654c734ccab8f440ff0825eb443dc7f><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/getting-started/>Getting started</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-a4d1982d45a8df888848781b1b4774e7 aria-expanded=false>
Tutorials</button><div class=collapse id=section-a4d1982d45a8df888848781b1b4774e7><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/how-to/>How to write your own extensions</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/model/>Models</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/mvu/>MVU</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/dev-pitfalls/>Pitfalls and F# 5.0 support</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/dev-testing/>Testing</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/update/>The Init and Update Functions</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/dev-logging/>Traces and crashes</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/dev-tools/>Using the Fabulous command line</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/tutorials/view/>Views</a></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3e57f996a3aea1880033d283d256a07a aria-expanded=false>
API Reference</button><div class=collapse id=section-3e57f996a3aea1880033d283d256a07a><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-a456323b78d9c122f7f82472cfcaa555 aria-expanded=false>
Controls</button><div class=collapse id=section-a456323b78d9c122f7f82472cfcaa555><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/activityindicator/>ActivityIndicator</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/boxview/>BoxView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/button/>Button</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/carouselpage/>CarouselPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/carouselview/>CarouselView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/checkbox/>Checkbox</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/collectionview/>CollectionView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/contentpage/>ContentPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/datepicker/>DatePicker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/editor/>Editor</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/ellipse/>Ellipse</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/entry/>Entry</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/flyoutpage/>FlyoutPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/gestures/>Gestures</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/image/>Image</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/imagebutton/>ImageButton</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/indicatorview/>IndicatorView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/label/>Label</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/layouts/>Layouts</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/line/>Line</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/listview/>ListView and ListViewGrouped</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/navigationpage/>NavigationPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/openglview/>OpenGLView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/path/>Path</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/picker/>Picker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/polygon/>Polygon</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/polyline/>Polyline</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/progressbar/>ProgressBar</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/radiobutton/>RadioButton</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/rectangle/>Rectangle</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/refreshview/>RefreshVIew</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/searchbar/>SearchBar</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/shell/>Shell</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/slider/>Slider</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/stepper/>Stepper</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/styling/>Styling</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/swipeview/>SwipeView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/switch/>Switch</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/tabbedpage/>TabbedPage</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/tableview/>TableView</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/timepicker/>TimePicker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/controls/webview/>WebView</a></li></ul></div></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/animations/>Animations</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/custom-renderer/>Custom renderers and Custom controls</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/effects/>Effects</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/codegen-bindings/>Fabulous.CodeGen</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/navigation/>Navigation</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/popups/>Pop-ups</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/api/performance/>View and performance</a></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3dc8be706a69216224c91c2bee37d0f9 aria-expanded=false>
Extensions</button><div class=collapse id=section-3dc8be706a69216224c91c2bee37d0f9><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/ffimageloading/>FFImageLoading</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/oxyplot/>OxyPlot</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/skiasharp/>SkiaSharp</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/videomanager/>VideoManager</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v1/extensions/xamarinforms-maps/>Xamarin.Forms.Maps</a></li></ul></div></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-1b267619c4812cc46ee281747884ca50 aria-expanded=true>
Version 2</button><div class="collapse show" id=section-1b267619c4812cc46ee281747884ca50><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/getting-started/>Getting started</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-5027704fbba052221b8192c347dd324b aria-expanded=false>
Tutorials</button><div class=collapse id=section-5027704fbba052221b8192c347dd324b><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/tutorials/using-nightly-builds/>Using nightly builds</a></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-ee970452eef2feb3434e4db493978a7a aria-expanded=false>
API Reference</button><div class=collapse id=section-ee970452eef2feb3434e4db493978a7a><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-f2e7ce0d9a84a2a9dafb13341470c18f aria-expanded=false>
Controls</button><div class=collapse id=section-f2e7ce0d9a84a2a9dafb13341470c18f><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/date-picker/>DatePicker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/picker/>Picker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/time-picker/>TimePicker</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/button/>Button</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/element/>Element</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/label/>Label</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/navigableelement/>NavigableElement</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/view/>View</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/controls/visualelement/>VisualElement</a></li></ul></div></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/api/extending-controls/>Creating and extending controls</a></li></ul></div></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-d6dc8e34ffb16d208f2777e5c6b23062 aria-expanded=true>
Architecture</button><div class="collapse show" id=section-d6dc8e34ffb16d208f2777e5c6b23062><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/goals-of-v2/>Reasonable goals of v2</a></li><li><a class="docs-link rounded active" href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/virtualized-collections/>Virtualized collections</a></li><li><a class="docs-link rounded" href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/attribute-definitions/>Attribute definitions</a></li></ul></div></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#usages>Usages</a></li><li><a href=#how-listview-and-collectionview-work-in-xamarinforms>How ListView and CollectionView work in Xamarin.Forms</a></li><li><a href=#how-it-works-in-fabulous>How it works in Fabulous</a><ul><li><a href=#simple-collections-aka-not-grouped>Simple collections (aka not grouped)</a></li><li><a href=#grouped-collections>Grouped collections</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>Virtualized collections</h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#usages>Usages</a></li><li><a href=#how-listview-and-collectionview-work-in-xamarinforms>How ListView and CollectionView work in Xamarin.Forms</a></li><li><a href=#how-it-works-in-fabulous>How it works in Fabulous</a><ul><li><a href=#simple-collections-aka-not-grouped>Simple collections (aka not grouped)</a></li><li><a href=#grouped-collections>Grouped collections</a></li></ul></li></ul></nav></div></nav><p>Virtualized collection enables displaying a scrolling list of data while only instantiating the visible rows.
When scrolling, the no longer visible rows are reused and updated with the new data.</p><p>In Xamarin.Forms, this is done via 2 controls: ListView and CollectionView.
Also those controls support grouping data and displaying a group header/footer.</p><p>My main idea was to let the user pass in its data source and declare a template function (as well as 2 others for header/footer).
Fabulous would just remap the data source (<code>Seq.map templateFn items</code>) and pass it to Xamarin.Forms, avoiding enumeration.</p><h2 id=usages>Usages <a href=#usages class=anchor aria-hidden=true>#</a></h2><pre><code class=language-fs>let items = [ 1 .. 1000 ]

ListView(items)
    (fun item -&gt; TextCell($&quot;{item}&quot;))

CollectionView(items)
    (fun item -&gt; Label($&quot;{item}&quot;))
</code></pre><pre><code class=language-fs>// According to Xamarin.Forms documentation, when grouping, data source should be an IEnumerable of IEnumerable
type Group(headerData: string, footerData: string, items: IEnumerable&lt;int&gt;) =
    inherit ObservableCollection&lt;int&gt;(items)
    member _.HeaderData = headerData
    member _.FooterData = footerData

let groups =
    ObservableCollection&lt;Group&gt;(
        [ for i = 0 .. 100 do
            Group($&quot;Header {i}&quot;, $&quot;Footer {i}&quot;, [1 .. 100]) ]
    )

// ListView has no Footer for groups
GroupedListView(groups)
    (fun group -&gt; TextCell(group.HeaderData))
    (fun item -&gt; TextCell($&quot;{item}&quot;))

GroupedCollectionView(items)
    (fun group -&gt; Label(group.HeaderData))
    (fun item -&gt; Label($&quot;{item}&quot;)
    (fun group -&gt; Label(group.FooterData))
</code></pre><h2 id=how-listview-and-collectionview-work-in-xamarinforms>How ListView and CollectionView work in Xamarin.Forms <a href=#how-listview-and-collectionview-work-in-xamarinforms class=anchor aria-hidden=true>#</a></h2><p>Virtualization in ListView/CollectionView works by combining 2 properties:</p><ul><li><code>ItemsSource</code>: a list of raw data</li><li><code>DataTemplate</code>: a template object used to describe what the row should look like</li></ul><p>Given the MVVM nature of XF, row reuse is mostly driven by bindings.
DataTemplate doesn&rsquo;t know about the raw data it will receive and only setups binding.</p><pre><code class=language-xml>&lt;ListView ItemsSource=&quot;{Binding Items}&quot;&gt;
    &lt;ListView.ItemTemplate&gt;
        &lt;DataTemplate&gt;
            &lt;TextCell Text=&quot;{Binding MyProperty}&quot; /&gt;
        &lt;DataTemplate&gt;
    &lt;/ListView.ItemTemplate&gt;
&lt;/ListView&gt;
</code></pre><p>Xamarin.Forms creates a row using the <code>DataTemplate</code> and sets its <code>BindingContext</code> with the raw item.
This triggers refresh of the row UI.
Same on row reuse, XF sets the new raw item into <code>BindingContext</code> and refreshes the bindings.</p><p>This model doesn&rsquo;t work with Fabulous at all, due to the lack of Binding.
Fortunately, we can work with <code>DataTemplateSelector</code> to access the current item before returning the appropriate <code>DataTemplate</code>.
This allows Fabulous to support virtualization.</p><h2 id=how-it-works-in-fabulous>How it works in Fabulous <a href=#how-it-works-in-fabulous class=anchor aria-hidden=true>#</a></h2><p>Semantically speaking, our <code>Widget</code> is very close to <code>DataTemplate</code>. They both describe what a specific piece of UI should look like. The main difference is that <code>DataTemplate</code> doesn&rsquo;t know of the data it will work with in advance, whereas <code>Widget</code> has been built with that data.</p><p>So the main challenge was to make the 2 concepts compatible.</p><h3 id=simple-collections-aka-not-grouped>Simple collections (aka not grouped) <a href=#simple-collections-aka-not-grouped class=anchor aria-hidden=true>#</a></h3><h4 id=storing-data-and-the-template-function>Storing data and the template function <a href=#storing-data-and-the-template-function class=anchor aria-hidden=true>#</a></h4><p>In Fabulous v1, we were creating all <code>ViewElement</code> items (<code>Widget</code> in v2) on each view update. This can be problematic in case you have a large number of items.</p><p>Actually thanks to how virtualization works, we only need to &ldquo;process&rdquo; a couple of items for the visible rows.
No need to go create all widgets on each view update.</p><p>To support that, the following type has been created:</p><pre><code class=language-fs>type WidgetItems&lt;'T&gt; =
    {
        // The raw list of data provided by the user
        OriginalItems: IEnumerable&lt;'T&gt;
       
        // Function to convert one item to a widget
        Template: 'T -&gt; Widget
    }
</code></pre><p>This <code>WidgetItems</code> is created by the function <code>ViewHelpers.buildItems</code> and is stored directly in the <code>ItemsSource</code> scalar attribute.</p><pre><code class=language-fs>let buildItems&lt;'msg, 'marker, 'itemData, 'itemMarker&gt; key attrDef (items: seq&lt;'itemData&gt;) (itemTemplate: 'itemData -&gt; WidgetBuilder&lt;'msg, 'itemMarker&gt;) = (...)

static member inline ListView&lt;'msg, 'itemData, 'itemMarker when 'itemMarker :&gt; ICell&gt;(items: seq&lt;'itemData&gt;) =
    ViewHelpers.buildItems&lt;'msg, IListView, 'itemData, 'itemMarker&gt; ViewKeys.ListView ItemsViewOfCell.ItemsSource items
</code></pre><p><em>Note the use of <code>'itemMarker</code> to enforce the type of widget items</em></p><p>Keeping the original items allows us to directly compare them on each update to determine if we need to update the UI.</p><pre><code class=language-fs>(fun (a, b) -&gt; ScalarAttributeComparers.equalityCompare(a.OriginalItems, b.OriginalItems))
</code></pre><p>Currently, scalar attributes in Fabulous have 2 generic parameters: the <code>'inputType</code> and <code>'modelType</code>.</p><p>The <code>'inputType</code> is what we expect the users to provide us.
The <code>'modelType</code> is an optimized representation of the same data (eg. <code>'inputType</code> is <code>int list</code>, <code>'modelType</code> will be <code>int[]</code>).</p><p>Before storing the attribute value, we convert <code>'inputType</code> to <code>'modelType</code> through the <code>Convert</code> function declared in the <code>ScalarAttributeDefinition</code>; <code>'inputType</code> is never stored.</p><p>But the comparison function shown just above is only done between 2 <code>'modelType</code>s, but ListView/CollectionView expect an <code>IEnumerable</code> and not a <code>WidgetItems</code>.</p><p>So to support this, we need another generic parameter <code>'valueType</code> and the corresponding <code>ConvertValue: 'modelType -> 'valueType</code> function.</p><pre><code class=language-fs>type ScalarAttributeDefinition&lt;'inputType, 'modelType, 'valueType&gt; =
    { (...)
      Compare: 'modelType -&gt; 'modelType
      ConvertValue: 'modelType -&gt; 'valueType }
</code></pre><p>With this, we can still store and compare <code>WidgetItems</code>, but when we actually need to apply the value to the XF property, we call <code>ConvertValue</code> to transform it. Attributes that don&rsquo;t need conversion can use the <code>id</code> function to make it transparent.</p><p>For <code>WidgetItems</code>, we build an IEnumerable on the fly using the original items and the template function before assigning it to the XF property <code>ItemsSource</code>.</p><pre><code class=language-fs>(fun modelValue -&gt; seq { for x in modelValue.OriginalItems do modelValue.Template x })
</code></pre><p>Now Xamarin.Forms has a list of Widgets, and thanks to <code>seq</code>, it will only enumerate the items it needs to display.</p><h4 id=loading-widgets-into-rows>Loading Widgets into rows <a href=#loading-widgets-into-rows class=anchor aria-hidden=true>#</a></h4><p>Unlike DataTemplate in MVVM apps, instead of setting bindings to capture the raw data inside <code>BindingContext</code>, we now have a <code>Widget</code>.</p><p>To make it work, we need 2 things:</p><ul><li>A DataTemplateSelector that will know which DataTemplate to create based on the widget</li><li>A DataTemplate that will listen to <code>BindingContextChanged</code> and run the Reconciler when a widget is attached to the row</li></ul><pre><code class=language-fs>// IsHeader is only for grouping
type WidgetDataTemplateSelector internal (node: IViewNode, itemType: VirtualizedItemType) =
    inherit DataTemplateSelector()
    
    /// Reuse data template for already known widget target type
    let cache = Dictionary&lt;Type, WidgetDataTemplate&gt;()
    
    override _.OnSelectTemplate(item, _) =
        let widget = BindableHelpers.getWidgetFromBindingContext itemType item
        let widgetDefinition = WidgetDefinitionStore.get widget.Key
        let targetType = widgetDefinition.GetTargetType(widget)
        match cache.TryGetValue(targetType) with
        | true, dataTemplate -&gt; dataTemplate
        | false, _ -&gt;
            let dataTemplate = WidgetDataTemplate(targetType, isHeader, node)
            cache.Add(targetType, dataTemplate)
            dataTemplate
</code></pre><p>Note that like said earlier, DataTemplate are created <em>before</em> knowing which value they will host.
This means we can only create an empty row for now.
So to enable row reuse later, we extract the root target type of a widget and create an empty row with it.</p><p>eg.</p><pre><code class=language-fs>fun item -&gt;
    ViewCell(
        Grid(...)
    )
</code></pre><p>will have a target type of <code>ViewCell</code> and we create an empty <code>ViewCell</code>.</p><p><em>Side note:</em> Given the potential high cost of instantiate a lot of <code>View.lazy'</code>, its use is not allowed in virtualized collections.</p><p>This DataTemplateSelector instantiates a <code>WidgetDataTemplate</code> that will create the appropriate XF control and listen to <code>BindingContextChanged</code>.</p><pre><code class=language-fs>/// Create a DataTemplate for a specific root type (TextCell, ViewCell, etc.)
/// that listen for BindingContext change to apply the Widget content to the cell
type WidgetDataTemplate(``type``, itemType, parent: IViewNode) =
    inherit DataTemplate(fun () -&gt;
        let bindableObject = Activator.CreateInstance ``type`` :?&gt; BindableObject
        
        let viewNode = ViewNode(ValueSome parent, parent.TreeContext, WeakReference(bindableObject))
        bindableObject.SetValue(ViewNode.ViewNodeProperty, viewNode)
        
        let onBindingContextChanged = BindableHelpers.createOnBindingContextChanged parent.TreeContext.CanReuseView itemType bindableObject
        bindableObject.BindingContextChanged.Add (fun _ -&gt; onBindingContextChanged ())
        
        bindableObject :&gt; obj
    )
</code></pre><p>For fresh rows, Xamarin.Forms will execute that function and then set the <code>BindingContext</code> with the widget from our list. When XF reuses a row, it will set the new widget in the <code>BindingContext</code> as well.
Each time, we call the Reconciler to update the row.</p><p>Final step is to pass this <code>WidgetDataTemplateSelector</code> in the XF property <code>ItemTemplate</code>.
Since it will never change, we assign it when creating the controls.</p><pre><code class=language-fs>/// Force ListView to recycle rows because DataTemplateSelector disables it by default, only possible in ctor
/// CollectionView recycles by default
type FabulousListView() = inherit ListView(ListViewCachingStrategy.RecycleElement)

let ListView = Widgets.registerWithAdditionalSetup&lt;FabulousListView&gt;(fun target node -&gt;
    target.ItemTemplate &lt;- SimpleWidgetDataTemplateSelector(node)
)
let CollectionView = Widgets.registerWithAdditionalSetup&lt;Xamarin.Forms.CollectionView&gt;(fun target node -&gt;
    target.ItemTemplate &lt;- SimpleWidgetDataTemplateSelector(node)
)
</code></pre><p>A <code>registerWithAdditionalSetup</code> was needed because <code>DataTemplateSelector</code> requires access to the <code>ViewNode</code> of the ListView/CollectionView, and it was not possible to do it in the constructor of the controls.</p><h3 id=grouped-collections>Grouped collections <a href=#grouped-collections class=anchor aria-hidden=true>#</a></h3><p>Grouped ListView/CollectionView is slightly different.
Instead of having a 1-dimensional enumerable of raw data, we have a 2-dimension one (eg. <code>IEnumerable&lt;IEnumerable&lt;T>></code>)</p><p>To support this with everything we saw just before, <code>GroupItem</code> has been created.</p><pre><code class=language-fs>type GroupItem(header: Widget, footer: Widget, source: IEnumerable&lt;Widget&gt;) =
    member _.Header = header
    member _.Footer = footer
    interface IEnumerable&lt;Widget&gt; with
        member this.GetEnumerator(): IEnumerator&lt;Widget&gt; = source.GetEnumerator()
        member this.GetEnumerator(): IEnumerator = source.GetEnumerator()
</code></pre><p>Instead of applying a list of <code>IEnumerable&lt;Widget></code> to XF property <code>ItemsSource</code>, we apply a list of <code>IEnumerable&lt;GroupItem></code>.</p><p>The builder function takes 3 template functions instead of 1: the group header template, the item template and the group footer template. All of which are called on <code>ConvertValue</code> to create the list of &lsquo;GroupItem&rsquo;.</p><p>Since the data source is different, we need a different <code>DataTemplate</code> for XF properties <code>GroupHeaderTemplate</code> and <code>GroupFooterTemplate</code>.
Even with grouping enabled, <code>ItemTemplate</code> remains a simple <code>Widget</code> -> row.</p><p><code>GroupedWidgetDataTemplateSelector</code> will either use the <code>Header</code> or <code>Footer</code> widgets to create the corresponding rows.</p><p>And when registering the ListView/CollectionView types, we enable the <code>IsGrouped</code> flag.</p><pre><code class=language-fs>let GroupedListView = Widgets.registerWithAdditionalSetup&lt;FabulousListView&gt;(fun target node -&gt;
    target.ItemTemplate &lt;- SimpleWidgetDataTemplateSelector(node)
    target.GroupHeaderTemplate &lt;- GroupedWidgetDataTemplateSelector(node, Header)
    target.IsGroupingEnabled &lt;- true
)
let GroupedCollectionView = Widgets.registerWithAdditionalSetup&lt;Xamarin.Forms.CollectionView&gt;(fun target node -&gt;
    target.ItemTemplate &lt;- SimpleWidgetDataTemplateSelector(node)
    target.GroupHeaderTemplate &lt;- GroupedWidgetDataTemplateSelector(node, Header)
    target.GroupFooterTemplate &lt;- GroupedWidgetDataTemplateSelector(node, Footer)
    target.IsGrouped &lt;- true
)
</code></pre><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"><div class=edit-page><a href=https://github.com/TimLariviere/Fabulous-new/blob/main/docs/content/en/docs/v2/architecture/virtualized-collections.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></div></div><div class="docs-navigation d-flex justify-content-between"><a href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/goals-of-v2/><div class="card my-1"><div class="card-body py-2">&larr; Reasonable goals of v2</div></div></a><a class=ms-auto href=https://fsprojects.github.io/Fabulous/docs/v2/architecture/attribute-definitions/><div class="card my-1"><div class="card-body py-2">Attribute definitions &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a class=text-muted href=https://pages.github.com>GitHub Pages</a>, <a class=text-muted href=https://gohugo.io/>Hugo</a>, and <a class=text-muted href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://fsprojects.github.io/Fabulous/js/bootstrap.min.fdbe9b9ba88a036135318f3c721784d684ac9e3280fe282cc80d7d49f7f9c82780cd54228c1608685a230c09984300d7946fc471734d566fcebc148b65bd16db.js integrity="sha512-/b6bm6iKA2E1MY88cheE1oSsnjKA/igsyA19Sff5yCeAzVQijBYIaFojDAmYQwDXlG/EcXNNVm/OvBSLZb0W2w==" crossorigin=anonymous defer></script>
<script src=https://fsprojects.github.io/Fabulous/js/highlight.min.838b3c1ddbb9b9165b7561f7099cb5c4355b6154aaeb65308b36bab9eb30eaa5878166aa717b399c4adddd7dd2a4e04efa14a096b190683a94630bb0c15b431e.js integrity="sha512-g4s8Hdu5uRZbdWH3CZy1xDVbYVSq62Uwiza6uesw6qWHgWaqcXs5nErd3X3SpOBO+hSglrGQaDqUYwuwwVtDHg==" crossorigin=anonymous defer></script>
<script src=https://fsprojects.github.io/Fabulous/main.min.6bcd117899ffc9e0f284a6a38e48794689fd80fbd8a0a50a6c886e47e1bfac6c90f39ecad7cdc1a52f577e7c99ed379a3b3b84adb674a5776d815dd650d71eb6.js integrity="sha512-a80ReJn/yeDyhKajjkh5Ron9gPvYoKUKbIhuR+G/rGyQ857K183BpS9XfnyZ7TeaOzuErbZ0pXdtgV3WUNcetg==" crossorigin=anonymous defer></script>
<script src=https://fsprojects.github.io/Fabulous/index.min.43f25eb4f97f20a9d2e383f5fce193357cfebe4ab721fb9840cfb37a7a3f381f3548ebac4cf50757c5ee36f44272c626fb6a04dd7a3fbfbf04ae174a88309424.js integrity="sha512-Q/JetPl/IKnS44P1/OGTNXz+vkq3IfuYQM+zeno/OB81SOusTPUHV8XuNvRCcsYm+2oE3Xo/v78ErhdKiDCUJA==" crossorigin=anonymous defer></script></body></html>